"use strict";!function(D){D(document).ready(function(){D(".desktop-navigation .collection-item").each(function(){var e,i=D(this).children("a");"#"==i.attr("href")&&(e=D(this).children(".submenu"),i.on("mouseenter",function(){e.addClass("visible")}),e.on("mouseleave",function(){D(this).removeClass("visible")}))});var t=D("html"),a=D(".mobile-navigation");D(".hamburger__wrapper").on("click",function(){var e=D(this).children(".hamburger").children("div"),i=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];e.hasClass("active")?(a.removeClass("visible"),e.removeClass("active"),t.css("overflow",t.data("previous-overflow"))):(a.addClass("visible"),e.addClass("active"),t.data("scroll-position",i),t.data("previous-overflow",t.css("overflow")),t.css("overflow","hidden")),window.scrollTo(i[0],i[1])});var i=(i=window.location.pathname).replace(new RegExp("/","g"),"");D(".mobile-navigation a, .desktop-navigation a, .footer a").each(function(){var e=D(this).attr("href");~e.indexOf(window.location.origin)?~e.indexOf(i)&&""!==i&&D(this).addClass("current-active"):(e=e.replace(new RegExp("/","g"),""),~i.indexOf(e)&&D(this).addClass("current-active"))}),i.includes("owner-operators")||i.includes("contractors")||i.includes("research")?D(".desktop-navigation .collection-item:first-child > a").addClass("current-active"):(i.includes("news")||i.includes("blog"))&&D(".desktop-navigation .collection-item:nth-child(2) > a").addClass("current-active"),D(".desktop-navigation .menu-item__link").hover(function(){D(this).siblings(".menu-item__link").addClass("greyed-out")},function(){D(this).siblings(".menu-item__link").removeClass("greyed-out")}),D("select > option:first-child").attr("disabled",!0),D("select > option:first-child").attr("hidden",!0),D("select").on("focus",function(){D(this).css("color","#172B38")}),D("select").on("change",function(){D(this).css("color","#172B38")});var s=D(".js-video__wrapper");D(".js-toggle-video").on("click",function(e){e.preventDefault(),s.addClass("visible")}),D(".js-close-video").on("click",function(e){e.preventDefault();e=s.attr("src");s.removeClass("visible"),s.attr("src",""),s.attr("src",e)}),D(".accordion p:first-child").on("click",function(){var e=D(this).parent();e.hasClass("active")?e.removeClass("active"):e.addClass("active")}),D(".js-calculator").calculator()}),D(window).on("load",function(){D(".slider").slick({infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,fade:!0,cssEase:"linear",adaptiveHeight:!0}),D(".slider--opinions").slick({infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,fade:!0,cssEase:"linear",adaptiveHeight:!0})}),D.fn.calculator=function(){var e,c,r,d,h,u,i,t,v,f,m,w,p,g,a,s,o,l,n,b,C,k,x,_,T,W,y,j;function E(){s.each(function(){D(this).is("input")?D(this).val(""):D(this).prop("selectedIndex",0).change()})}0<this.length&&(1<this.length?this.each(function(){D(this).calculator()}):(c=(e=this).find("form"),r=e.find(".progress-bar"),h=r.find(".progress-bar__inner"),u=c.find(".calculator-item:first-child"),i=c.find(".calculator01"),t=c.find(".calculator02"),c.find(".calculator03"),v=c.find(".calculator04"),c.find(".calculator05"),f=c.find(".calculator06"),c.find(".calculator07"),m=c.find(".calculator08"),c.find(".calculator09"),w=c.find(".calculator10"),c.find(".calculator11"),p=c.find(".calculator12"),c.find(".calculator13"),g=c.find(".calculator14"),a=c.find(".calculator15"),s=D("input, select"),o=c.find(".primary-next"),l=c.find(".back-button"),n=c.find(".js-again"),y=a.find("h2 span"),j=a.find("h4 span"),d=r.outerWidth()/8,h.animate({width:d},500),E(),o.on("click",function(e){var i,t,a,s,o,l,n;e.preventDefault(),u=D(this).closest(".calculator-item"),l=(i=u).find("input, select"),n=i.find(".div-block-44"),e=c.find("#".concat(+i.attr("id")+1)),""==l.val()?i.hasClass("error")||(t=D('<div class="error-message">Please enter a number.</div>'),i.addClass("error"),n.before(t),setTimeout(function(){i.removeClass("error"),t.remove()},3e3)):null==l.val()?i.hasClass("error")||(a=D('<div class="error-message">Please select an option.</div>'),i.addClass("error"),n.before(a),setTimeout(function(){i.removeClass("error"),a.remove()},3e3)):(i.is("#3")||i.is("#5")||i.is("#6"))&&(i.val()<0||100<i.val())?i.hasClass("error")||(s=D('<div class="error-message">Please enter a number between 0 and 100.</div>'),i.addClass("error"),n.before(s),setTimeout(function(){i.removeClass("error"),s.remove()},3e3)):i.is("#1")?(h.animate({width:h.outerWidth()+d},500),i.hide(),e.show(),"data-centre"==l.val()?T=.8:"commercial-building"==l.val()?T=.7:"road"==l.val()?T=1.1:"telecom"==l.val()?T=1.07:"water"==l.val()?T=1.15:"energy"==l.val()?T=1.35:"rail"==l.val()&&(T=1.63)):i.is("#2")?("execution"==l.val()?(i.hide(),e.show()):(o=c.find("#".concat(+i.attr("id")+2)),h.animate({width:h.outerWidth()+d},500),i.hide(),o.show()),"sanction"==l.val()?W=1:"detailed-design"==l.val()?W=.9:"early-concept"==l.val()&&(W=.5)):i.is("#3")?90<l.val()?(i.hide(),v.show()):(h.animate({width:h.outerWidth()+d},500),i.hide(),e.show(),W=-Math.abs(1.0999999999999999)*(l.val()/100)+.9999999999999999):i.is("#4")?l.val()<5e7?(i.hide(),f.show()):(h.animate({width:h.outerWidth()+d},500),i.hide(),e.show(),C=l.val()):i.is("#5")?l.val()<5||25<l.val()?(i.hide(),m.show()):(h.animate({width:h.outerWidth()+d},500),i.hide(),e.show(),k=l.val()/100):i.is("#6")?l.val()<1||20<l.val()?(i.hide(),w.show()):(h.animate({width:h.outerWidth()+d},500),i.hide(),e.show(),_=l.val()/100):i.is("#7")?l.val()<.5||10<l.val()?(i.hide(),p.show()):(h.animate({width:h.outerWidth()+d},500),i.hide(),e.show(),x=l.val()):i.is("#8")&&(l.val()<100?(i.hide(),g.show()):(l=+(o=(.003*+(b=l.val())*.62714285714286*(+C*+k/(52*+x))+(108600*+x-5e4*+x)+6e-4*+C+ +C*+_*.03)*T*W)+.003*+b*.62714285714*10183150.1832,y.text((o/1e6).toFixed(2)),j.text((l/1e6).toFixed(2)),h.animate({width:h.outerWidth()+d},500),setTimeout(function(){r.addClass("completed")},500),i.hide(),e.show()))}),l.on("click",function(e){e.preventDefault(),u=D(this).closest(".calculator-item");var i=c.find("#".concat(+u.attr("id")-1)),e=t.find("select").val();"execution"!==e&&u.is("#4")&&(i=c.find("#".concat(+u.attr("id")-2))),"execution"==e&&u.is("#3")||h.animate({width:h.outerWidth()-d},500),u.hide(),i.show()}),n.on("click",function(e){e.preventDefault(),u=D(this).closest(".calculator-item"),E(),r.removeClass("completed"),h.animate({width:d},500),u.hide(),i.show()})))}}(jQuery);