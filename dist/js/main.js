"use strict";!function(E){E(document).ready(function(){E(".desktop-navigation .collection-item").each(function(){var e,t=E(this).children("a");"#"==t.attr("href")&&(e=E(this).children(".submenu"),t.on("mouseenter",function(){e.addClass("visible")}),e.on("mouseleave",function(){E(this).removeClass("visible")}))});var i=E("html"),a=E(".mobile-navigation");E(".hamburger__wrapper").on("click",function(){var e=E(this).children(".hamburger").children("div"),t=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];e.hasClass("active")?(a.removeClass("visible"),e.removeClass("active"),i.css("overflow",i.data("previous-overflow"))):(a.addClass("visible"),e.addClass("active"),i.data("scroll-position",t),i.data("previous-overflow",i.css("overflow")),i.css("overflow","hidden")),window.scrollTo(t[0],t[1])});var t=(t=window.location.pathname).replace(new RegExp("/","g"),"");E(".mobile-navigation a, .desktop-navigation a, .footer a").each(function(){var e=E(this).attr("href");~e.indexOf(window.location.origin)?~e.indexOf(t)&&""!==t&&E(this).addClass("current-active"):(e=e.replace(new RegExp("/","g"),""),~t.indexOf(e)&&E(this).addClass("current-active"))}),t.includes("owner-operators")||t.includes("contractors")||t.includes("research")?E(".desktop-navigation .collection-item:first-child > a").addClass("current-active"):(t.includes("news")||t.includes("blog"))&&E(".desktop-navigation .collection-item:nth-child(2) > a").addClass("current-active"),E(".desktop-navigation .menu-item__link").hover(function(){E(this).siblings(".menu-item__link").addClass("greyed-out")},function(){E(this).siblings(".menu-item__link").removeClass("greyed-out")}),E("select > option:first-child").attr("disabled",!0),E("select > option:first-child").attr("hidden",!0),E("select").on("focus",function(){E(this).css("color","#172B38")}),E("select").on("change",function(){E(this).css("color","#172B38")}),E("select").on("change",function(){E(this).blur()}),E(".js-toggle-video").on("click",function(e){e.preventDefault();e=E(".js-video__wrapper");document.body.clientWidth<=560&&E("body").animate({"margin-top":e.innerHeight()},400),e.addClass("visible")}),E(".js-close-video").on("click",function(e){e.preventDefault();e=E(".js-video__wrapper");document.body.clientWidth<=560&&E("body").animate({"margin-top":0},400),e.removeClass("visible");var t=e.find("iframe"),i=t.attr("src");setTimeout(function(){t.attr("src",""),t.attr("src",i)},500)}),E(".accordion p:first-child").on("click",function(){var e=E(this).parent();e.hasClass("active")?e.removeClass("active"):e.addClass("active")}),E(".js-calculator").calculator(),E(".js-job-categories").jobCategories()}),E(window).on("load",function(){E(".slider").slick({infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,fade:!0,cssEase:"linear",adaptiveHeight:!0,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!1,pauseOnFocus:!1}),E(".slider--opinions").slick({infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,fade:!0,cssEase:"linear",adaptiveHeight:!0}),E("a.js-scroll").on("click",function(e){e.preventDefault(),E("html, body").animate({scrollTop:E(E(this).attr("href")).offset().top},1e3,"swing")})}),E.fn.jobCategories=function(){var i,a,o,s,n,c,l=[];0<this.length&&(1<this.length?this.each(function(){E(this).jobCategories()}):(i=this,function(){a=i.find(".w-dyn-item"),o=i.prev(".js-jobs-navigation"),s=o.children(".js-tabs"),n=o.find(".select__wrapper"),c=E('<select class="input select"></select>'),i.find(".js-job-category").each(function(){E(this).closest(".w-dyn-item").attr("data-category",E(this).text()),""===E(this).text()||l.includes(E(this).text())||(s.append('<button class="job-category-tab" data-category="'.concat(E(this).text(),'">').concat(E(this).text(),"</button>")),c.append('<option value="'.concat(E(this).text(),'">').concat(E(this).text(),"</option>")),l.push(E(this).text()))}),n.append(c);var t=s.find(".job-category-tab"),e=n.find("select");t.on("click",function(e){e.preventDefault(),t.removeClass("active"),a.hide(),i.find('.w-dyn-item[data-category="'.concat(E(this).data("category"),'"]')).show(),E(this).addClass("active")}),e.on("change",function(e){e.preventDefault(),s.find('.job-category-tab[data-category="'.concat(E(this).val(),'"]')).trigger("click")}),t.eq(0).trigger("click"),e.on("focus",function(){E(this).css("color","#172B38")}),e.on("change",function(){E(this).css("color","#172B38")}),e.on("change",function(){E(this).blur()})}()))},E.fn.calculator=function(){var e,l,r,d,h,u,t,i,f,v,m,p,g,w,a,o,s,n,c,b,C,y,k,j,x,_,T,W,D;function O(){o.each(function(){E(this).is("input")?E(this).val(""):E(this).prop("selectedIndex",0).change()})}0<this.length&&(1<this.length?this.each(function(){E(this).calculator()}):(l=(e=this).find("form"),r=e.find(".progress-bar"),h=r.find(".progress-bar__inner"),u=l.find(".calculator-item:first-child"),t=l.find(".calculator01"),i=l.find(".calculator02"),l.find(".calculator03"),f=l.find(".calculator04"),l.find(".calculator05"),v=l.find(".calculator06"),l.find(".calculator07"),m=l.find(".calculator08"),l.find(".calculator09"),p=l.find(".calculator10"),l.find(".calculator11"),g=l.find(".calculator12"),l.find(".calculator13"),w=l.find(".calculator14"),a=l.find(".calculator15"),o=e.find("input, select"),s=l.find(".primary-next"),n=l.find(".back-button"),c=l.find(".js-change"),b=l.find(".js-again"),W=a.find("h2 span"),D=a.find("h4 span"),d=r.outerWidth()/8,h.animate({width:d},500),O(),s.on("click",function(e){var t,i,a,o,s,n,c;e.preventDefault(),u=E(this).closest(".calculator-item"),n=(t=u).find("input, select"),c=t.find(".div-block-44"),e=l.find("#".concat(+t.attr("id")+1)),""==n.val()?t.hasClass("error")||(i=E('<div class="error-message">Please enter a number.</div>'),t.addClass("error"),c.before(i),setTimeout(function(){t.removeClass("error"),i.remove()},3e3)):null==n.val()?t.hasClass("error")||(a=E('<div class="error-message">Please select an option.</div>'),t.addClass("error"),c.before(a),setTimeout(function(){t.removeClass("error"),a.remove()},3e3)):(t.is("#3")||t.is("#5")||t.is("#6"))&&(t.val()<0||100<t.val())?t.hasClass("error")||(o=E('<div class="error-message">Please enter a number between 0 and 100.</div>'),t.addClass("error"),c.before(o),setTimeout(function(){t.removeClass("error"),o.remove()},3e3)):t.is("#1")?(h.animate({width:h.outerWidth()+d},500),t.hide(),e.show(),"data-centre"==n.val()?_=.8:"commercial-building"==n.val()?_=.7:"road"==n.val()?_=1.1:"telecom"==n.val()?_=1.07:"water"==n.val()?_=1.15:"energy"==n.val()?_=1.35:"rail"==n.val()&&(_=1.63)):t.is("#2")?("execution"==n.val()?(t.hide(),e.show()):(s=l.find("#".concat(+t.attr("id")+2)),h.animate({width:h.outerWidth()+d},500),t.hide(),s.show()),"sanction"==n.val()?T=1:"detailed-design"==n.val()?T=.9:"early-concept"==n.val()&&(T=.5)):t.is("#3")?90<n.val()?(t.hide(),f.show()):(h.animate({width:h.outerWidth()+d},500),t.hide(),e.show(),T=-Math.abs(1.0999999999999999)*(n.val()/100)+.9999999999999999):t.is("#4")?n.val()<5e7?(t.hide(),v.show()):(h.animate({width:h.outerWidth()+d},500),t.hide(),e.show(),y=n.val()):t.is("#5")?n.val()<5||25<n.val()?(t.hide(),m.show()):(h.animate({width:h.outerWidth()+d},500),t.hide(),e.show(),k=n.val()/100):t.is("#6")?n.val()<1||20<n.val()?(t.hide(),p.show()):(h.animate({width:h.outerWidth()+d},500),t.hide(),e.show(),x=n.val()/100):t.is("#7")?n.val()<.5||10<n.val()?(t.hide(),g.show()):(h.animate({width:h.outerWidth()+d},500),t.hide(),e.show(),j=n.val()):t.is("#8")&&(n.val()<100?(t.hide(),w.show()):(n=+(s=(.003*+(C=n.val())*.62714285714286*(+y*+k/(52*+j))+(108600*+j-5e4*+j)+6e-4*+y+ +y*+x*.03)*_*T)+.003*+C*.62714285714*10183150.1832,W.text((s/1e6).toFixed(2)),D.text((n/1e6).toFixed(2)),h.animate({width:h.outerWidth()+d},500),setTimeout(function(){r.addClass("completed")},500),t.hide(),e.show()))}),n.on("click",function(e){e.preventDefault(),u=E(this).closest(".calculator-item");var t=l.find("#".concat(+u.attr("id")-1)),e=i.find("select").val();"execution"!==e&&u.is("#4")&&(t=l.find("#".concat(+u.attr("id")-2))),"execution"==e&&u.is("#3")||h.animate({width:h.outerWidth()-d},500),u.hide(),t.show()}),c.on("click",function(e){e.preventDefault(),E(this).hasClass("js-again")||(e=(u=E(this).closest(".calculator-item")).prev(),u.hide(),e.show())}),b.on("click",function(e){e.preventDefault(),u=E(this).closest(".calculator-item"),O(),r.removeClass("completed"),h.animate({width:d},500),u.hide(),t.show()})))}}(jQuery);